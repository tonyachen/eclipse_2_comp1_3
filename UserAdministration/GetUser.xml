<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="8a71b591-9475-498c-9b21-3e4ed8549f14" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetUser" searchProperties="true" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="8a71b591-9475-498c-9b21-3e4ed8549f14fileName">GetUser</con:setting></con:settings><con:testStep type="restrequest" name="SetupApplicationProperties" id="1c4dd702-4c79-489d-85c4-16cfc78b975f"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" methodName="Applications" resourcePath="/platform/rest/v37/system/applications" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SetupApplicationProperties" id="a0f06acf-f28a-4c04-a876-5bbdac71955d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="CAMP-SESSION" value="${CampID}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request/><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/system/applications</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d9753838-23d7-47f3-ae12-d4c56c0c2420" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#X-DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#X-W3-DEVICE-ID}"/>
  <con:entry key="Content-Type" value="${#Project#Content-Type}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="StartSession" id="5731386c-818f-4ae6-ab08-60fccf7936d5"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" resourcePath="/platform/rest/v37/session/start" methodName="Start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="StartSession" id="577fb335-9101-47a5-bff5-7bc7d4eddf10" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="CAMP-SESSION" value="${CampID}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request>{
   "additionalParameters": {
      "deviceType": "${#Project#deviceType}",
      "latitude": "${#Project#latitude}",
      "longitude": "${#Project#longitude}"
   }
}</con:request><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/session/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8017cb70-68f3-4779-bd89-94c3ebaff652" name="Valid HTTP Status Codes" disabled="true"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#DEVICE-ID}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
</con:parameters><con:parameterOrder><con:entry>CAMP-SESSION</con:entry><con:entry>Content-Type</con:entry><con:entry>X-W3-DEVICE-ID</con:entry><con:entry>X-DEBUG-HHID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Transfer_JSessionID" id="b32a3eec-fc83-4434-b809-2463de6e2144"><con:settings/><con:config><script>var test = testRunner.getTestCase().getTestStepByName("StartSession").httpRequest.response.responseHeaders;

var full = test.toString();
var jStart = full.indexOf("JSESSIONID");
var jEnd = full.indexOf("; Path=");
var jValue = full.substring(jStart, jEnd+1);

var tStart = full.indexOf("mint-sso-token");
var tEnd = full.indexOf("GMT;");
var tValue = full.substring(tStart, tEnd+4);


context.setProperty("JSessionID", jValue);
context.setProperty("MintToken", tValue);

log.info(jValue);
log.info(tValue);</script></con:config></con:testStep><con:testStep type="restrequest" name="GetUser" id="236c4fb0-af76-453a-8225-e6265530cf6a"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" resourcePath="/platform/rest/v37/user/{UserID}" methodName="GetUser" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetUser" id="c8217f27-8906-4cba-8b92-dca316a65074" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="CAMP-SESSION" value="${CampID}"/>
  &lt;con:entry key="Cookie" value="${JSessionID} ${MintToken}"/>
&lt;/xml-fragment></con:setting><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@bind_address"/><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request/><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/user/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="681f93ff-7e97-45c4-ab81-6fba1865e67d" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#DEVICE-ID}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
</con:parameters><con:parameterOrder><con:entry>CAMP-SESSION</con:entry><con:entry>Content-Type</con:entry><con:entry>X-W3-DEVICE-ID</con:entry><con:entry>X-DEBUG-HHID</con:entry><con:entry>UserID</con:entry><con:entry>GroupID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetUserGroups" id="489a211c-89f6-46f8-9d1e-7fe35f1197b6"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" resourcePath="/platform/rest/v37/user/groups" methodName="Groups" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetUserGroups" id="eeb1ac09-d490-40cc-81d4-feb6315a9a85" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="CAMP-SESSION" value="${CampID}"/>
  &lt;con:entry key="Cookie" value="${JSessionID} ${MintToken}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request/><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/user/groups</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3f365c17-ade0-433b-814e-d766f70d0944" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#DEVICE-ID}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
</con:parameters><con:parameterOrder><con:entry>CAMP-SESSION</con:entry><con:entry>Content-Type</con:entry><con:entry>X-W3-DEVICE-ID</con:entry><con:entry>X-DEBUG-HHID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="GroupIDTransfer 1" id="e7f533e0-8aa8-43fa-b235-cd3870b2d432"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false"><con:name>id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetUserGroups</con:sourceStep><con:sourcePath>$[0].id</con:sourcePath><con:targetType>GroupID</con:targetType><con:targetStep>GetUsersByGroupID</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="GetUsersByGroupID" id="def1bf59-f193-46ea-894c-3ce919a340cb"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" resourcePath="/platform/rest/v37/group/{GroupID}/users" methodName="GetUsersByGroupID" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetUsersByGroupID" id="5561f1ea-4117-48b7-893f-6ac86b929bb4" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="CAMP-SESSION" value="${CampID}"/>
  &lt;con:entry key="Cookie" value="${JSessionID} ${MintToken}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request/><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/group/1716/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f677019b-1c12-4cbb-9919-06d1dcc47417" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="fa252f11-5b5e-4b6f-87ca-7ec06a4efbaf" name="JsonPath Count"><con:configuration><path>$[0]</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5581f1da-26b8-42c7-80ca-2b18e43fd3d8" name="JsonPath Existence Match" disabled="true"><con:configuration><path>$[*]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="258dfba4-dabb-46e9-a3e4-1c6a59b1cebe"><con:configuration/></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#DEVICE-ID}"/>
  <con:entry key="GroupID" value="3754"/>
  <con:entry key="Content-Type" value="${#Project#Content-Type}"/>
</con:parameters><con:parameterOrder><con:entry>GroupID</con:entry><con:entry>CAMP-SESSION</con:entry><con:entry>Content-Type</con:entry><con:entry>X-W3-DEVICE-ID</con:entry><con:entry>X-DEBUG-HHID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="EndSession" id="5dd644ee-80a3-446d-9d48-72e21f2df730"><con:settings/><con:config service="http://eclipselab1.vf.rogers.com" resourcePath="/platform/rest/v37/session/end" methodName="End" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EndSession" id="563f4d1f-356e-4bbd-be8f-ffdc93bb1770" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="CAMP-SESSION" value="${CampID}"/>
  &lt;con:entry key="Cookie" value="${JSessionID} ${MintToken}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://eclipselab1.vf.rogers.com</con:endpoint><con:request/><con:originalUri>http://eclipselab1.vf.rogers.com/platform/rest/v37/session/end</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="62cded87-0468-4f9a-a7f4-bef6213da496" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters>
  <con:entry key="X-DEBUG-HHID" value="${#Project#DEBUG-HHID}"/>
  <con:entry key="X-W3-DEVICE-ID" value="${#Project#DEVICE-ID}"/>
  <con:entry key="Content-Type" value="application/json; charset=utf-8"/>
</con:parameters><con:parameterOrder><con:entry>CAMP-SESSION</con:entry><con:entry>Content-Type</con:entry><con:entry>X-W3-DEVICE-ID</con:entry><con:entry>X-DEBUG-HHID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>1c4dd702-4c79-489d-85c4-16cfc78b975f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5731386c-818f-4ae6-ab08-60fccf7936d5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b32a3eec-fc83-4434-b809-2463de6e2144</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>236c4fb0-af76-453a-8225-e6265530cf6a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>5dd644ee-80a3-446d-9d48-72e21f2df730</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>def1bf59-f193-46ea-894c-3ce919a340cb</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>